# Public Key signatures

## Example
```C#
var message = System.Text.Encoding.UTF8.GetBytes("My secret message");
var keyPair = PublicKeyAuth.GenerateKeyPair(); // 64 byte private key | 32 byte public key

// Sign the message
var signature = PublicKeyAuth.Sign(message, keyPair.Secret);

// Verify the message signature
var unsignedMessage = PublicKeyAuth.Verify(signature, keyPair.Public);

// Messages should be the same.
// Assert.AreEqual(message, unsignedMessage);
```

## Purpose

Public key signatures are used to sign a given message which can then be verified by a third party.

> Note: Verifiers need to already know and ultimatly trust the public key before they can verify it.

## Generate KeyPair

__Namespace:__ _Sodium.PublicKeyAuth_

```C#
public static KeyPair Sodium.PublicKeyAuth.GenerateKeyPair()
public static KeyPair Sodium.PublicKeyAuth.GenerateKeyPair(byte[] seed)
```

A new key pair can be generated by calling `GenerateKeyPair` with or without a seed. If a seed is not specified, a new keypair will be generated. If a seed is specified, the seed should be 32 bytes.

_If a seed is specified, `crypto_sign_seed_keypair` will be used internally. Otherwise `crypto_sign_keypair` will be used._

## Sign

__Namespace:__ _Sodium.PublicKeyAuth_

```C#
public static byte[] Sodium.PublicKeyAuth.Sign(byte[] message, byte[] privateKey)
```

This method is used to sign a given `message` using a 64 byte `privateKey. This method will returns the signed message.

_This method internally uses `crypto_sign`._

## Verify

__Namespace:__ _Sodium.PublicKeyAuth_

```C#
public static byte[] Sodium.PublicKeyAuth.Verify(byte[] signedMessage, byte[] publicKey)
```

This method verifies the signature of a given `signedMessage` using the 32 byte `publicKey` associated with the 64 byte private key that originally signed the message.

_This method internally uses `crypto_sign_open`._

## Edd25519 to Curve25519 Key Conversion

### Convert Private Key

__Namespace:__ _Sodium.PublicKeyAuth_

```C#
public static byte[] Sodium.PublicKeyAuth.ConvertEd25519SecretKeyToCurve25519SecretKey(byte[] privateKey)
```

This method converts an 64 byte Ed25519 `privateKey` to a Curve25519 `privateKey`, and will return the Curve25519 private key.

_This method internally uses `crypto_sign_ed25519_pk_to_curve25519`._

### Convert Public key

__Namespace:__ _Sodium.PublicKeyAuth_

```C#
public static byte[] Sodium.PublicKeyAuth.ConvertEd25519PublicKeyToCurve25519PublicKey(byte[] publicKey)
```

This method converts an 32 byte Ed25519 `publicKey` to a Curve25519 `publicKey`, and will return the Curve25519 public key.

_This method internally uses `crypto_sign_ed25519_sk_to_curve25519`._

## Algorithm Details

- Signature: Ed25519