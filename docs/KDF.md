# Key Derivation Functions

While not part of libsodium itself, key-derivation functions are useful for generated keys from sources such as passwords or hashes.

## Password-based Key Derivation Function 2 (PBKDF2)

__Namespace:__ _Sodium.KDF_

```C#
static byte[] Sodium.KDF.PBKDF2(string password, byte[] salt, int iterationCount, int targetSize, KeyDerivationAlgorithmNames|String algorithm);
```

PBKDF2 takes 5 parameters:
1. The string `password`, which may be of any length
2. `salt`, either generated by `Sodium.Core.GetRandomBytes(n)` or by converting a plaintext salt `System.Text.Encoding.ASCII.GetBytes("salt")`
3. The number of iterations (`iterationCount`) that the algorithm should run for.
4. The `targetSize` of the output.
5. A `KeyDerivationAlgorithmNames `algorithm, as defined from https://msdn.microsoft.com/en-us/library/windows/apps/windows.security.cryptography.core.keyderivationalgorithmnames.aspx.
    ```
    KeyDerivationAlgorithmNames.Pbkdf2Md5,
    KeyDerivationAlgorithmNames.Pbkdf2Sha1,
    KeyDerivationAlgorithmNames.Pbkdf2Sha256,
    KeyDerivationAlgorithmNames.Pbkdf2Sha384,
    KeyDerivationAlgorithmNames.Pbkdf2Sha384,
    ```

### Example

```C#
// PBKDF 2 Example from RFC607
var p = "password";
var s = System.Text.Encoding.ASCII.GetBytes("salt");
var c = 1;
var dkLen = 20;

var result = Sodium.KDF.PBKDF2(p, s, c, dkLen, KeyDerivationAlgorithmNames.Pbkdf2Sha1);

// Additional example
p = "correct horse battery staple";
s = Sodium.Core.GetRandomBytes(64);
c = 10000;
dkLen = 32;
result = Sodium.KDF.PBKDF2(p, s, c, dkLen, KeyDerivationAlgorithmNames.Pbkdf2Sha256);
```